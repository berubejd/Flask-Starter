{% extends 'layout.j2' %}
{% from "_helpers.j2" import render_field, render_submit_field %}

{% set active_page = "profile" %}

{% block title %}{% if not current_user.has_password %}Set{% else %}Change{% endif %} Password{% endblock %}

{% block content %}
    <div class="auth-container text-center m-auto">
        <form method="POST">
            <h1 id="title" class="text-center mb-4">{% if not current_user.has_password %}Set{% else %}Change{% endif %} Password</h1>
            {{ form.hidden_tag() }}
            {{ render_field(form.password, label_visible=false, placeholder=form.password.label.text, autofocus="autofocus") }}
            {{ render_field(form.repeat_password, label_visible=false, placeholder=form.repeat_password.label.text) }}
            {% if current_user.has_password %}{% set button_label="Update Password" %}{% endif %}
            {{ render_submit_field(form.submit, label=button_label) }}
        </form>
    </div>
{% endblock %}